<html>
    <head>
        <title>jQuery utils</title>
        <link rel="Stylesheet" media="screen" href="testsuite.css" />
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
        <script type="text/javascript" src="testrunner.js"></script>
        <script type="text/javascript" src="../jquery.strings.js"></script>
    </head>
    <body id="body">
    	<h1 id="header">jQuery.utils Test Suite</h1>
	    <h2 id="banner"></h2>
        <h2 id="userAgent"></h2>    
        <div id="main"></div>
        <ol id="tests"></ol>
    </body>
<script type="text/javascript">
module('jquery.strings.js');
test("Format (basic string replacement)", function() {
    expect(6);
    ok($.format('{a}bc', {a:'A'}) == 'Abc', 'Single character replacement (start)' );
    ok($.format('a{b}c', {b:'B'}) == 'aBc', 'Single character replacement (middle)' );
    ok($.format('ab{c}', {c:'C'}) == 'abC', 'Single character replacement (end)' );

    ok($.format('{abc}defghi', {abc:'ABC'}) == 'ABCdefghi', 'Multiple character replacement (start)' );
    ok($.format('abc{def}ghi', {def:'DEF'}) == 'abcDEFghi', 'Multiple character replacement (middle)' );
    ok($.format('abcdef{ghi}', {ghi:'GHI'}) == 'abcdefGHI', 'Multiple character replacement (end)' );
});

test("Format (types convertion)", function() {
    expect(8);
    ok($.format('{a:s}', {a:[1,2,3]})       == '123',    'Array to String convertion (s)' );
    ok($.format('{a:d}', {a:10.5})          == '10',     'Float to Integer convertion (d)' );
    ok($.format('{a:d}', {a:-10})           == '-10',    'Float to negative Integer convertion (d)' );
    ok($.format('{a:i}', {a:10.5})          == '10',     'Float to Integer convertion (i)' );
    ok(typeof($.format('{a:d}', {a:10.5}))  == 'number', 'Result type of float to Integer convertion (d)' );
    ok(typeof($.format('{a:i}', {a:10.5}))  == 'number', 'Result type of float to Integer convertion (i)' );
    ok($.format('{a:u}', {a:10})            == '10',     'Integer to Unsigned Integer convertion (d)' );
    ok($.format('{a:u}', {a:-10})           == '10',     'Negative Integer to Unsigned Integer convertion (d)' );
});

test("Format (zero padding)", function() {
    expect(2);
    ok($.format('a{a:03d}b', {a:1}) == 'a001b', 'Basic zero padding (03d)' );
    ok($.format('a{a:03i}b', {a:1}) == 'a001b', 'Basic zero padding (03i)' );
});
</script>
</html>
